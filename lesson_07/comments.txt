Честно говоря намучался с маппеарми. Либо голова занята другим, либо я остолоп.
Общую идею понял легко, но с реализацией начудил.
1) Хотел вынести Mapper в отдельный модуль, чтобы не ломать имеющуюся структуру.
   Думал, что я не так пишу паттерн, десять раз переписывал.
   Оказалось, что register не сопоставляет класс создаваемых объектов с заданным. Т.е. объект
   из импортированного класса Category это не не объект класса Category. Даже в голову не пришло в этом
   направлении проверять. Убил 2 дня из-за своей глупости.
   Как результат пришлось все ранее созданные модели перенести в общий модуль datamapper.
2) Не могу разобраться с проблемой.
   Втаблице Students, если убираю добавление id из insert (чтобы не ругался автоинкремент),
   выпадает ошибка:
   'Incorrect number of bindings supplied. The current statement uses 1, and there are 3 supplied.'
   Если добавляю id в insert, все работает, но естественно при повторном добавлении тех же студентов
   ругается на уникальность id.
   Не понял суть ошибки.

В mapper оставил только domainobject и unitofwork. Раз все не получилось по модулям разнести, хоть
что-то выделить из принципа.
В datamapper теперь все: и модели, и мапперы. Там же протестировал, прежде, чем в основное приложение
вносить.

Я понимаю, что не comme il faut просить кого-то разбирать твой бессмысленный код. Но я даже не могу задать
правильный вопрос. Дурак и спросить не может.

По поводу предыдущего ДЗ. Замечания как мог исправил (не для оценок для себя).
https://github.com/sevgenn/Patterns/tree/main/lesson_06
Исправлено:
1) Изменен класс Logger.
2) Изменен API.
3) В моделях добавлен итератор (изменеия в шаблонах и view).


Запуск:
LINUX: gunicorn app:app
WINDOWS: waitress-serve --listen=*:8000 app:app
